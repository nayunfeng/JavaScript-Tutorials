<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>素数</title>
</head>
<body>
<script>
    let n = 100000000;
    /*    let count = 0;
        ok:for (let i = 2; i <= n; i++) {
            for (let j = 2; j < i; j++) {
                if (i % j === 0) {
                    continue ok;
                }
            }
            count++;
        }
        console.log(count);*/

    let countPrimes = function (n) {
        let count = 0;
        let signs = new Uint8Array(n);
        for (let i = 2; i < n; i++) {
            // console.log(!signs[i - 1]);
            if (!signs[i - 1]) {
                count++;

                for (let j = i * i; j <= n; j += i) { 
                    signs[j - 1] = true;
                }
            }
        }
        console.log(signs);
        return count;
    }
    console.log(countPrimes(n));
</script>
</body>
</html>